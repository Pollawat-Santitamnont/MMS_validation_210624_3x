#  MMS_Master_study
## diff_check.py
โปรแกรม diff_check.py สำหรับตรวจสอบค่าพิกัด GNSS ที่วัดได้จากในสนาม
input เป็น GCPs.csv 
เมื่อเราคำนวณมาแล้วจะได้ผลลัพธ์ตามตารางนี้
| Name   |     dE |     dN |     dh |
|:-------|-------:|-------:|-------:|
| GCP01  |  0.005 |  0.007 | -0.002 |
| GCP02  |  0.001 | -0.002 |  0.001 |
| GCP03  |  0.000 |  0.000 | -0.006 |
| GCP04  |  0.000 |  0.003 |  0.001 |
| GCP05  |  0.002 |  0.002 | -0.002 |
| GCP06  | -0.006 | -0.003 | -0.010 |
| GCP07  |  0.000 |  0.003 | -0.008 |
| GCP08  | -0.003 |  0.000 | -0.005 |
| GCP09  |  0.002 |  0.000 |  0.000 |
| GCP10  | -0.004 |  0.002 |  0.003 |
| GCP11  |  0.000 |  0.003 | -0.013 |
| GCP12  |  0.007 |  0.003 |  0.004 |
| GCP13  | -0.007 | -0.001 | -0.008 |
| GCP14  |  0.001 |  0.006 | -0.005 |
| GCP15  |  0.000 | -0.004 | -0.014 |
| GCP16  | -0.004 |  0.000 | -0.014 |
mean_dE = -0.000 m
mean_dN = 0.001 m
mean_dh = -0.005 m

## MMS_validation.py
โปรแกรม MMS_validation.py สำหรับตรวจสอบค่าพิกัดที่ได้จาก Point Cloud เทียบกับ RTK ที่วัดในสนาม
input เป็น GCP_Measure_edit5_speed_30_60.csv
เมื่อเราคำนวณมาแล้วจะได้ผลลัพธ์ตามตารางนี้และไฟล์ผลลัพธ์ในรูปแบบ .pkl นอกจากนี้สามารถดูผลลัพธ์ที่ผมได้คัดลอกแยกตามความเร็วไว้ในไฟล์ .txt ได้เป็น MMS_speed30_complete.txt กับ MMS_speed60_complete.txt 
|    |   NO | Strip                   |   Speed |      E_MMS |       N_MMS |   h_MMS |      E_RTK |       N_RTK |   h_RTK |     dE |     dN |     dh |
|---:|-----:|:------------------------|--------:|-----------:|------------:|--------:|-----------:|------------:|--------:|-------:|-------:|-------:|
|  0 |   14 | 009+300_010+000_FWD.las |      30 | 678411.560 | 1527288.550 | -29.360 | 678411.533 | 1527288.589 | -29.350 |  0.027 | -0.039 | -0.010 |
|  1 |   15 | 009+300_010+000_FWD.las |      30 | 678679.559 | 1527097.680 | -28.810 | 678679.553 | 1527097.762 | -28.840 |  0.006 | -0.082 |  0.030 |
|  2 |   13 | 009+300_010+000_REV.las |      30 | 678666.340 | 1527065.860 | -28.870 | 678666.393 | 1527065.835 | -28.890 | -0.053 |  0.025 |  0.020 |
|  3 |   12 | 009+300_010+000_REV.las |      30 | 678391.410 | 1527259.310 | -29.600 | 678391.341 | 1527259.305 | -29.590 |  0.069 |  0.005 | -0.010 |
|  4 |   16 | 010+000_011+000_FWD.las |      30 | 679087.550 | 1527055.600 | -28.660 | 679087.575 | 1527055.660 | -28.680 | -0.025 | -0.060 |  0.020 |
|  5 |    1 | 010+000_011+000_FWD.las |      30 | 679471.850 | 1527234.360 | -28.230 | 679471.777 | 1527234.408 | -28.270 |  0.073 | -0.048 |  0.040 |
|  6 |    2 | 010+000_011+000_FWD.las |      30 | 679886.000 | 1527384.780 | -28.450 | 679885.955 | 1527384.827 | -28.480 |  0.045 | -0.047 |  0.030 |
|  7 |   11 | 010+000_011+000_REV.las |      30 | 679096.000 | 1527033.110 | -28.720 | 679095.989 | 1527033.098 | -28.730 |  0.011 |  0.012 |  0.010 |
|  8 |   10 | 010+000_011+000_REV.las |      30 | 679468.460 | 1527205.690 | -28.330 | 679468.435 | 1527205.682 | -28.320 |  0.025 |  0.008 | -0.010 |
|  9 |    9 | 010+000_011+000_REV.las |      30 | 679883.570 | 1527356.870 | -28.450 | 679883.581 | 1527356.883 | -28.440 | -0.011 | -0.013 | -0.010 |
| 10 |    3 | 011+000_012+000_FWD.las |      30 | 680265.209 | 1527515.070 | -28.690 | 680265.197 | 1527515.106 | -28.700 |  0.012 | -0.036 |  0.010 |
| 11 |    4 | 011+000_012+000_FWD.las |      30 | 680677.410 | 1527698.020 | -28.480 | 680677.419 | 1527698.100 | -28.490 | -0.009 | -0.080 |  0.010 |
| 12 |    8 | 011+000_012+000_REV.las |      30 | 680268.140 | 1527490.340 | -28.690 | 680268.134 | 1527490.313 | -28.700 |  0.006 |  0.027 |  0.010 |
| 13 |    7 | 011+000_012+000_REV.las |      30 | 680734.200 | 1527597.940 | -28.470 | 680734.242 | 1527597.892 | -28.460 | -0.042 |  0.048 | -0.010 |
| 14 |    5 | 012+000_012+419_FWD.las |      30 | 681193.950 | 1527766.530 | -28.400 | 681193.957 | 1527766.597 | -28.410 | -0.007 | -0.067 |  0.010 |
| 15 |    6 | 012+000_012+407_REV.las |      30 | 681222.890 | 1527696.770 | -28.550 | 681222.923 | 1527696.746 | -28.560 | -0.033 |  0.024 |  0.010 |

|RMSE_H  = 0.058|
|RMSE_V  = 0.018|
|RMSE_3d = 0.061|
| Name   |    dE |    dN |    dh |
|:-------|------:|------:|------:|
| MAE    | 0.028 | 0.036 | 0.001 |
| STD    | 0.039 | 0.042 | 0.002 |
| MSE    | 0.016 | 0.016 | 0.000 |
===========================================================
=================== Speed = 60 km/hr ===================
|    |   NO | Strip                   |   Speed |      E_MMS |       N_MMS |   h_MMS |      E_RTK |       N_RTK |   h_RTK |     dE |     dN |     dh |
|---:|-----:|:------------------------|--------:|-----------:|------------:|--------:|-----------:|------------:|--------:|-------:|-------:|-------:|
| 16 |   14 | 009+300_010+000_FWD.las |      60 | 678411.550 | 1527288.580 | -29.350 | 678411.533 | 1527288.589 | -29.350 |  0.017 | -0.009 |  0.000 |
| 17 |   15 | 009+300_010+000_FWD.las |      60 | 678679.570 | 1527097.710 | -28.830 | 678679.553 | 1527097.762 | -28.840 |  0.017 | -0.052 |  0.010 |
| 18 |   12 | 009+300_010+000_REV.las |      60 | 678666.480 | 1527065.830 | -28.890 | 678666.393 | 1527065.835 | -28.890 |  0.087 | -0.005 |  0.000 |
| 19 |   16 | 010+000_011+000_FWD.las |      60 | 679087.600 | 1527055.640 | -28.670 | 679087.575 | 1527055.660 | -28.680 |  0.025 | -0.020 |  0.010 |
| 20 |    1 | 010+000_011+000_FWD.las |      60 | 679471.800 | 1527234.380 | -28.260 | 679471.777 | 1527234.408 | -28.270 |  0.023 | -0.028 |  0.010 |
| 21 |    2 | 010+000_011+000_FWD.las |      60 | 679885.980 | 1527384.830 | -28.480 | 679885.955 | 1527384.827 | -28.480 |  0.025 |  0.003 |  0.000 |
| 22 |   11 | 010+000_011+000_REV.las |      60 | 679095.960 | 1527033.120 | -28.720 | 679095.989 | 1527033.098 | -28.730 | -0.029 |  0.022 |  0.010 |
| 23 |   10 | 010+000_011+000_REV.las |      60 | 679468.340 | 1527205.650 | -28.320 | 679468.435 | 1527205.682 | -28.320 | -0.095 | -0.032 |  0.000 |
| 24 |    9 | 010+000_011+000_REV.las |      60 | 679883.670 | 1527356.900 | -28.460 | 679883.581 | 1527356.883 | -28.440 |  0.089 |  0.017 | -0.020 |
| 25 |    3 | 011+000_012+000_FWD.las |      60 | 680265.190 | 1527515.100 | -28.700 | 680265.197 | 1527515.106 | -28.700 | -0.007 | -0.006 |  0.000 |
| 26 |    4 | 011+000_012+000_FWD.las |      60 | 680677.360 | 1527698.030 | -28.510 | 680677.419 | 1527698.100 | -28.490 | -0.059 | -0.070 | -0.020 |
| 27 |    8 | 011+000_012+000_REV.las |      60 | 680268.190 | 1527490.330 | -28.680 | 680268.134 | 1527490.313 | -28.700 |  0.056 |  0.017 |  0.020 |
| 28 |    7 | 011+000_012+000_REV.las |      60 | 680734.270 | 1527597.890 | -28.460 | 680734.242 | 1527597.892 | -28.460 |  0.028 | -0.002 |  0.000 |
| 29 |    5 | 012+000_012+419_FWD.las |      60 | 681193.940 | 1527766.550 | -28.390 | 681193.957 | 1527766.597 | -28.410 | -0.017 | -0.047 |  0.020 |
| 30 |    6 | 012+000_012+407_REV.las |      60 | 681222.880 | 1527696.760 | -28.560 | 681222.923 | 1527696.746 | -28.560 | -0.043 |  0.014 |  0.000 |

RMSE_H  = 0.058
RMSE_V  = 0.012
RMSE_3d = 0.059
| Name   |    dE |    dN |    dh |
|:-------|------:|------:|------:|
| MAE    | 0.041 | 0.051 | 0.002 |
| STD    | 0.023 | 0.028 | 0.001 |
| MSE    | 0.008 | 0.012 | 0.000 |
===========================================================
===========================================================

## point_density.py
โปรแกรม point_density.py สำหรับตรวจสอบค่าพิกัด GNSS ที่วัดได้จากในสนาม
input เป็น  GCP_Measure_edit5_speed_30_60.csv กับไฟล์ .las ที่ได้จาก MMS
กำหนดความเร็วที่สนใจและโฟลเดอร์ที่เก็บไฟล์ .las 
เมื่อเราคำนวณมาแล้วจะได้ผลลัพธ์ตามตารางนี้
ตอนความเร็ว 30 km/hr
|    |   NO | Strip                   |   Speed |      E_MMS |       N_MMS |   h_MMS |      E_RTK |       N_RTK |   h_RTK |   Point_density_pnt_per_sqm |
|---:|-----:|:------------------------|--------:|-----------:|------------:|--------:|-----------:|------------:|--------:|----------------------------:|
|  0 |   14 | 009+300_010+000_FWD.las |      30 | 678411.560 | 1527288.550 | -29.360 | 678411.533 | 1527288.589 | -29.356 |                         850 |
|  1 |   15 | 009+300_010+000_FWD.las |      30 | 678679.559 | 1527097.680 | -28.810 | 678679.553 | 1527097.762 | -28.844 |                         564 |
|  2 |   13 | 009+300_010+000_REV.las |      30 | 678666.340 | 1527065.860 | -28.870 | 678666.393 | 1527065.835 | -28.890 |                         317 |
|  3 |   12 | 009+300_010+000_REV.las |      30 | 678391.410 | 1527259.310 | -29.600 | 678391.341 | 1527259.305 | -29.595 |                         376 |
|  4 |   16 | 010+000_011+000_FWD.las |      30 | 679087.550 | 1527055.600 | -28.660 | 679087.575 | 1527055.660 | -28.688 |                         471 |
|  5 |    1 | 010+000_011+000_FWD.las |      30 | 679471.850 | 1527234.360 | -28.230 | 679471.777 | 1527234.408 | -28.273 |                         315 |
|  6 |    2 | 010+000_011+000_FWD.las |      30 | 679886.000 | 1527384.780 | -28.450 | 679885.955 | 1527384.827 | -28.482 |                         481 |
|  7 |   11 | 010+000_011+000_REV.las |      30 | 679096.000 | 1527033.110 | -28.720 | 679095.989 | 1527033.098 | -28.734 |                         604 |
|  8 |   10 | 010+000_011+000_REV.las |      30 | 679468.460 | 1527205.690 | -28.330 | 679468.435 | 1527205.682 | -28.321 |                         505 |
|  9 |    9 | 010+000_011+000_REV.las |      30 | 679883.570 | 1527356.870 | -28.450 | 679883.581 | 1527356.883 | -28.449 |                         485 |
| 10 |    3 | 011+000_012+000_FWD.las |      30 | 680265.209 | 1527515.070 | -28.690 | 680265.197 | 1527515.106 | -28.708 |                         515 |
| 11 |    4 | 011+000_012+000_FWD.las |      30 | 680677.410 | 1527698.020 | -28.480 | 680677.419 | 1527698.100 | -28.499 |                         401 |
| 12 |    8 | 011+000_012+000_REV.las |      30 | 680268.140 | 1527490.340 | -28.690 | 680268.134 | 1527490.313 | -28.702 |                         484 |
| 13 |    7 | 011+000_012+000_REV.las |      30 | 680734.200 | 1527597.940 | -28.470 | 680734.242 | 1527597.892 | -28.469 |                         402 |
| 14 |    5 | 012+000_012+419_FWD.las |      30 | 681193.950 | 1527766.530 | -28.400 | 681193.957 | 1527766.597 | -28.412 |                         332 |
| 15 |    6 | 012+000_012+407_REV.las |      30 | 681222.890 | 1527696.770 | -28.550 | 681222.923 | 1527696.746 | -28.567 |                         428 |

|point_density = 470 pnt/sqm.|

ตอนความเร็ว 60 km/hr
|    |   NO | Strip                   |   Speed |      E_MMS |       N_MMS |   h_MMS |      E_RTK |       N_RTK |   h_RTK |   Point_density_pnt_per_sqm |
|---:|-----:|:------------------------|--------:|-----------:|------------:|--------:|-----------:|------------:|--------:|----------------------------:|
| 16 |   14 | 009+300_010+000_FWD.las |      60 | 678411.550 | 1527288.580 | -29.350 | 678411.533 | 1527288.589 | -29.356 |                         794 |
| 17 |   15 | 009+300_010+000_FWD.las |      60 | 678679.570 | 1527097.710 | -28.830 | 678679.553 | 1527097.762 | -28.844 |                         712 |
| 18 |   12 | 009+300_010+000_REV.las |      60 | 678666.480 | 1527065.830 | -28.890 | 678666.393 | 1527065.835 | -28.890 |                         388 |
| 19 |   16 | 010+000_011+000_FWD.las |      60 | 679087.600 | 1527055.640 | -28.670 | 679087.575 | 1527055.660 | -28.688 |                         883 |
| 20 |    1 | 010+000_011+000_FWD.las |      60 | 679471.800 | 1527234.380 | -28.260 | 679471.777 | 1527234.408 | -28.273 |                         463 |
| 21 |    2 | 010+000_011+000_FWD.las |      60 | 679885.980 | 1527384.830 | -28.480 | 679885.955 | 1527384.827 | -28.482 |                         876 |
| 22 |   11 | 010+000_011+000_REV.las |      60 | 679095.960 | 1527033.120 | -28.720 | 679095.989 | 1527033.098 | -28.734 |                        1109 |
| 23 |   10 | 010+000_011+000_REV.las |      60 | 679468.340 | 1527205.650 | -28.320 | 679468.435 | 1527205.682 | -28.321 |                         961 |
| 24 |    9 | 010+000_011+000_REV.las |      60 | 679883.670 | 1527356.900 | -28.460 | 679883.581 | 1527356.883 | -28.449 |                         960 |
| 25 |    3 | 011+000_012+000_FWD.las |      60 | 680265.190 | 1527515.100 | -28.700 | 680265.197 | 1527515.106 | -28.708 |                         947 |
| 26 |    4 | 011+000_012+000_FWD.las |      60 | 680677.360 | 1527698.030 | -28.510 | 680677.419 | 1527698.100 | -28.499 |                         975 |
| 27 |    8 | 011+000_012+000_REV.las |      60 | 680268.190 | 1527490.330 | -28.680 | 680268.134 | 1527490.313 | -28.702 |                         841 |
| 28 |    7 | 011+000_012+000_REV.las |      60 | 680734.270 | 1527597.890 | -28.460 | 680734.242 | 1527597.892 | -28.469 |                         918 |
| 29 |    5 | 012+000_012+419_FWD.las |      60 | 681193.940 | 1527766.550 | -28.390 | 681193.957 | 1527766.597 | -28.412 |                         351 |
| 30 |    6 | 012+000_012+407_REV.las |      60 | 681222.880 | 1527696.760 | -28.560 | 681222.923 | 1527696.746 | -28.567 |                         333 |

|point_density = 767 pnt/sqm.|

โดยผลลัพธ์ทั้งสองตารางเก็บไว้ใน .pkl โดยจะมีตัวอย่างที่แสดงไว้ก่อนหน้านี้ save ในชื่อ point_density_s30.txt กับ point_density_s60.txt ให้ดูกันด้วย

## MMS_validation_form_AU20.pdf
MMS_validation_form_AU20.pdf ทีจะอธิบายทั้งตำแหน่งที่ได้จาก RTK และ MMS ความหนาแน่นของ point cloud บริเวณนั้น 5*5 รวมไปถึงภาพทีใช้วัดจุด GCP เหล่านั้น สามารถดูได้จากไฟล์นี้ได้เลยครับ

## cors4_GNSS1.py
โปรแกรม cors4_GNSS1.py สำหรับตรวจสอบค่าพิกัด GNSS ที่วัดได้จากการ post process ซึ่งในกรณีได้ใช้ SBKKGNSS01_precise เป็น reference เพื่อเทียบกับอันอื่น โดยลำดับที่เรียงตามความใกล้ไกลและเป็นแบบที่ใช้คำนวณด้วย orbit แบบไหนด้วย
input เป็น  cors4_GNSS1_210624.toml
กำหนด reference และ ไฟล์ที่จะนำเข้า
เมื่อเราคำนวณมาแล้วจะได้ผลลัพธ์ตามตารางนี้ 

| Name                 |     dE |     dN |     dU |
|:---------------------|-------:|-------:|-------:|
| SBKKGNSS01_precise   |  0.000 |  0.000 |  0.000 |
| SBKKGNSS01_broadcast |  0.000 | -0.000 | -0.000 |
| PKKTGNSS01_broadcast | -0.000 | -0.006 | -0.003 |
| BPLEGNSS01_broadcast | -0.010 |  0.005 | -0.002 |
| OKRKGNSS01_broadcast | -0.001 | -0.016 |  0.050 |
| PKKTGNSS01_precise   | -0.000 | -0.007 | -0.003 |
| BPLEGNSS01_precise   | -0.009 |  0.006 | -0.002 |
| OKRKGNSS01_precise   | -0.002 | -0.017 |  0.047 |

นอกจากนี้สามารถ plot graph ได้อีกด้วย
